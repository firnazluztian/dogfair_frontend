{"ast":null,"code":"import _objectSpread from \"/Users/firnazluztian/Documents/react/Oromico/myRepo/milestone1/dogfair_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/Users/firnazluztian/Documents/react/Oromico/myRepo/milestone1/dogfair_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/firnazluztian/Documents/react/Oromico/myRepo/milestone1/dogfair_frontend/src/doggoComponents/DoggoInput.js\";\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport RegistrationForm from '../components/RegistrationForm';\nconst initialState = {\n  name: '',\n  age: '',\n  description: '',\n  doggo_id: ''\n};\n\nconst DoggoInput = props => {\n  const _useState = useState(initialState),\n        _useState2 = _slicedToArray(_useState, 2),\n        doggo = _useState2[0],\n        setDoggo = _useState2[1];\n\n  const handleInputChange = event => {\n    setDoggo(_objectSpread({}, doggo, {\n      [event.target.name]: event.target.value\n    }));\n  };\n\n  const postData = async () => {\n    await axios.post(props.urlApi, {\n      registration: {\n        name: doggo.name,\n        age: doggo.age,\n        description: doggo.description,\n        doggo_id: doggo.doggo_id\n      }\n    }).then(response => {\n      console.log(response);\n      console.log(response.data);\n      setDoggo(initialState);\n      alert('succesfully registered');\n    }).catch(error => {\n      console.log(error);\n\n      if (error.response.status === 422) {\n        alert('that doggo id has already been taken');\n      }\n    });\n  };\n\n  const onSubmit = event => {\n    console.log(event);\n    postData();\n  };\n\n  return React.createElement(RegistrationForm, {\n    formTitle: \"Add\",\n    onSubmit: onSubmit,\n    onChange: handleInputChange,\n    value: [doggo.name, doggo.age, doggo.description, doggo.doggo_id],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  });\n};\n\nexport default DoggoInput;","map":{"version":3,"sources":["/Users/firnazluztian/Documents/react/Oromico/myRepo/milestone1/dogfair_frontend/src/doggoComponents/DoggoInput.js"],"names":["React","useState","axios","RegistrationForm","initialState","name","age","description","doggo_id","DoggoInput","props","doggo","setDoggo","handleInputChange","event","target","value","postData","post","urlApi","registration","then","response","console","log","data","alert","catch","error","status","onSubmit"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,gBAAP,MAA6B,gCAA7B;AAEA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,IAAI,EAAE,EADa;AAEnBC,EAAAA,GAAG,EAAE,EAFc;AAGnBC,EAAAA,WAAW,EAAE,EAHM;AAInBC,EAAAA,QAAQ,EAAE;AAJS,CAArB;;AAOA,MAAMC,UAAU,GAAGC,KAAK,IAAI;AAAA,oBACAT,QAAQ,CAAEG,YAAF,CADR;AAAA;AAAA,QACnBO,KADmB;AAAA,QACZC,QADY;;AAG1B,QAAMC,iBAAiB,GAAGC,KAAK,IAAI;AACjCF,IAAAA,QAAQ,mBAAMD,KAAN;AAAa,OAACG,KAAK,CAACC,MAAN,CAAaV,IAAd,GAAqBS,KAAK,CAACC,MAAN,CAAaC;AAA/C,OAAR;AACD,GAFD;;AAIA,QAAMC,QAAQ,GAAG,YAAY;AAC3B,UAAMf,KAAK,CACRgB,IADG,CACGR,KAAK,CAACS,MADT,EACiB;AACnBC,MAAAA,YAAY,EAAE;AACZf,QAAAA,IAAI,EAAEM,KAAK,CAACN,IADA;AAEZC,QAAAA,GAAG,EAAEK,KAAK,CAACL,GAFC;AAGZC,QAAAA,WAAW,EAAEI,KAAK,CAACJ,WAHP;AAIZC,QAAAA,QAAQ,EAAEG,KAAK,CAACH;AAJJ;AADK,KADjB,EASHa,IATG,CASGC,QAAQ,IAAI;AACjBC,MAAAA,OAAO,CAACC,GAAR,CAAaF,QAAb;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAaF,QAAQ,CAACG,IAAtB;AACAb,MAAAA,QAAQ,CAAER,YAAF,CAAR;AACAsB,MAAAA,KAAK,CAAE,wBAAF,CAAL;AACD,KAdG,EAeHC,KAfG,CAeIC,KAAK,IAAI;AACfL,MAAAA,OAAO,CAACC,GAAR,CAAaI,KAAb;;AACA,UAAIA,KAAK,CAACN,QAAN,CAAeO,MAAf,KAA0B,GAA9B,EAAmC;AAACH,QAAAA,KAAK,CAAE,sCAAF,CAAL;AAAgD;AACrF,KAlBG,CAAN;AAmBD,GApBD;;AAsBA,QAAMI,QAAQ,GAAGhB,KAAK,IAAI;AACxBS,IAAAA,OAAO,CAACC,GAAR,CAAaV,KAAb;AACAG,IAAAA,QAAQ;AACT,GAHD;;AAKA,SACE,oBAAC,gBAAD;AACE,IAAA,SAAS,EAAC,KADZ;AAEE,IAAA,QAAQ,EAAEa,QAFZ;AAGE,IAAA,QAAQ,EAAEjB,iBAHZ;AAIE,IAAA,KAAK,EAAE,CAACF,KAAK,CAACN,IAAP,EAAaM,KAAK,CAACL,GAAnB,EAAwBK,KAAK,CAACJ,WAA9B,EAA2CI,KAAK,CAACH,QAAjD,CAJT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF;AAQD,CA1CD;;AA4CA,eAAeC,UAAf","sourcesContent":["import React, {useState} from 'react';\nimport axios from 'axios';\nimport RegistrationForm from '../components/RegistrationForm';\n\nconst initialState = {\n  name: '',\n  age: '',\n  description: '',\n  doggo_id: '',\n};\n\nconst DoggoInput = props => {\n  const [doggo, setDoggo] = useState (initialState);\n\n  const handleInputChange = event => {\n    setDoggo ({...doggo, [event.target.name]: event.target.value});\n  };\n\n  const postData = async () => {\n    await axios\n      .post (props.urlApi, {\n        registration: {\n          name: doggo.name,\n          age: doggo.age,\n          description: doggo.description,\n          doggo_id: doggo.doggo_id,\n        },\n      })\n      .then (response => {\n        console.log (response);\n        console.log (response.data);\n        setDoggo (initialState);\n        alert ('succesfully registered');\n      })\n      .catch (error => {\n        console.log (error);\n        if (error.response.status === 422) {alert ('that doggo id has already been taken');}\n      })\n  };\n\n  const onSubmit = event => {\n    console.log (event);\n    postData ();\n  };\n\n  return (\n    <RegistrationForm\n      formTitle=\"Add\"\n      onSubmit={onSubmit}\n      onChange={handleInputChange}\n      value={[doggo.name, doggo.age, doggo.description, doggo.doggo_id]}\n    />\n  );\n};\n\nexport default DoggoInput;\n"]},"metadata":{},"sourceType":"module"}