{"ast":null,"code":"import _objectSpread from \"/Users/firnazluztian/Documents/react/Oromico/myRepo/milestone1/dogfair_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/Users/firnazluztian/Documents/react/Oromico/myRepo/milestone1/dogfair_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/firnazluztian/Documents/react/Oromico/myRepo/milestone1/dogfair_frontend/src/doggoComponents/DoggoEdit.js\";\nimport React, { useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { useForm } from 'react-hook-form';\nimport axios from 'axios';\nimport RegistrationForm from '../components/RegistrationForm'; // incomplete\n\nconst DoggoEdit = props => {\n  const _useForm = useForm(),\n        handleSubmit = _useForm.handleSubmit,\n        register = _useForm.register,\n        errors = _useForm.errors;\n\n  const _useState = useState({}),\n        _useState2 = _slicedToArray(_useState, 2),\n        doggo = _useState2[0],\n        setDoggo = _useState2[1];\n\n  const history = useHistory();\n\n  const handleInputChange = event => {\n    setDoggo(_objectSpread({}, doggo, {\n      [event.target.name]: event.target.value\n    }));\n  };\n\n  const editData = async () => {\n    await axios.patch(props.urlApi + doggo.id, doggo).then(response => {\n      console.log(response);\n      console.log(response.data);\n      alert('Id ' + doggo.id + ' is sucessfully edited');\n      history.push('/doggo-registration');\n    }).catch(error => {\n      console.log(error);\n      alert(error);\n    });\n  };\n\n  const onSubmit = event => {\n    console.log(event);\n    event.preventDefault();\n    editData();\n  };\n\n  return React.createElement(RegistrationForm, {\n    onSubmit: onSubmit,\n    onChange: handleInputChange,\n    value: [doggo.name, doggo.age, doggo.description, doggo.doggo_id],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  });\n};\n\nexport default DoggoEdit;","map":{"version":3,"sources":["/Users/firnazluztian/Documents/react/Oromico/myRepo/milestone1/dogfair_frontend/src/doggoComponents/DoggoEdit.js"],"names":["React","useState","Link","useHistory","useForm","axios","RegistrationForm","DoggoEdit","props","handleSubmit","register","errors","doggo","setDoggo","history","handleInputChange","event","target","name","value","editData","patch","urlApi","id","then","response","console","log","data","alert","push","catch","error","onSubmit","preventDefault","age","description","doggo_id"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,SAAQC,IAAR,EAAcC,UAAd,QAA+B,kBAA/B;AACA,SAAQC,OAAR,QAAsB,iBAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAOC,gBAAP,MAA6B,gCAA7B,C,CAEA;;AACA,MAAMC,SAAS,GAAGC,KAAK,IAAI;AAAA,mBACgBJ,OAAO,EADvB;AAAA,QAClBK,YADkB,YAClBA,YADkB;AAAA,QACJC,QADI,YACJA,QADI;AAAA,QACMC,MADN,YACMA,MADN;;AAAA,oBAECV,QAAQ,CAAE,EAAF,CAFT;AAAA;AAAA,QAElBW,KAFkB;AAAA,QAEXC,QAFW;;AAGzB,QAAMC,OAAO,GAAGX,UAAU,EAA1B;;AAEA,QAAMY,iBAAiB,GAAGC,KAAK,IAAI;AACjCH,IAAAA,QAAQ,mBAAMD,KAAN;AAAa,OAACI,KAAK,CAACC,MAAN,CAAaC,IAAd,GAAqBF,KAAK,CAACC,MAAN,CAAaE;AAA/C,OAAR;AACD,GAFD;;AAIA,QAAMC,QAAQ,GAAG,YAAY;AAC3B,UAAMf,KAAK,CACRgB,KADG,CACIb,KAAK,CAACc,MAAN,GAAeV,KAAK,CAACW,EADzB,EAC6BX,KAD7B,EAEHY,IAFG,CAEGC,QAAQ,IAAI;AACjBC,MAAAA,OAAO,CAACC,GAAR,CAAaF,QAAb;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAaF,QAAQ,CAACG,IAAtB;AACAC,MAAAA,KAAK,CAAE,QAAQjB,KAAK,CAACW,EAAd,GAAmB,wBAArB,CAAL;AACAT,MAAAA,OAAO,CAACgB,IAAR,CAAc,qBAAd;AACD,KAPG,EAQHC,KARG,CAQIC,KAAK,IAAI;AACfN,MAAAA,OAAO,CAACC,GAAR,CAAaK,KAAb;AACAH,MAAAA,KAAK,CAAEG,KAAF,CAAL;AACD,KAXG,CAAN;AAYD,GAbD;;AAeA,QAAMC,QAAQ,GAAGjB,KAAK,IAAI;AACxBU,IAAAA,OAAO,CAACC,GAAR,CAAaX,KAAb;AACAA,IAAAA,KAAK,CAACkB,cAAN;AACAd,IAAAA,QAAQ;AACT,GAJD;;AAMA,SACE,oBAAC,gBAAD;AACE,IAAA,QAAQ,EAAEa,QADZ;AAEE,IAAA,QAAQ,EAAElB,iBAFZ;AAGE,IAAA,KAAK,EAAE,CAACH,KAAK,CAACM,IAAP,EAAaN,KAAK,CAACuB,GAAnB,EAAwBvB,KAAK,CAACwB,WAA9B,EAA2CxB,KAAK,CAACyB,QAAjD,CAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF;AAOD,CArCD;;AAuCA,eAAe9B,SAAf","sourcesContent":["import React, {useState} from 'react';\nimport {Link, useHistory} from 'react-router-dom';\nimport {useForm} from 'react-hook-form';\nimport axios from 'axios';\n\nimport RegistrationForm from '../components/RegistrationForm'\n\n// incomplete\nconst DoggoEdit = props => {\n  const {handleSubmit, register, errors} = useForm ();\n  const [doggo, setDoggo] = useState ({});\n  const history = useHistory ();\n\n  const handleInputChange = event => {\n    setDoggo ({...doggo, [event.target.name]: event.target.value});\n  };\n\n  const editData = async () => {\n    await axios\n      .patch (props.urlApi + doggo.id, doggo)\n      .then (response => {\n        console.log (response);\n        console.log (response.data);\n        alert ('Id ' + doggo.id + ' is sucessfully edited');\n        history.push ('/doggo-registration');\n      })\n      .catch (error => {\n        console.log (error);\n        alert (error);\n      });\n  }\n\n  const onSubmit = event => {\n    console.log (event);\n    event.preventDefault ();\n    editData(); \n  };\n\n  return (\n    <RegistrationForm\n      onSubmit={onSubmit}\n      onChange={handleInputChange}\n      value={[doggo.name, doggo.age, doggo.description, doggo.doggo_id]}\n    />\n  );\n};\n\nexport default DoggoEdit;\n"]},"metadata":{},"sourceType":"module"}