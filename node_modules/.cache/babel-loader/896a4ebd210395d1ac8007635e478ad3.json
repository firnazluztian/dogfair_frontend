{"ast":null,"code":"import _objectSpread from \"/Users/firnazluztian/Documents/react/Oromico/myRepo/milestone1/dogfair_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/Users/firnazluztian/Documents/react/Oromico/myRepo/milestone1/dogfair_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/firnazluztian/Documents/react/Oromico/myRepo/milestone1/dogfair_frontend/src/doggoComponents/DoggoEdit.js\";\nimport React, { useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { useForm } from 'react-hook-form';\nimport axios from 'axios'; // incomplete\n\nconst DoggoEdit = props => {\n  const initialState = {\n    id: null,\n    name: '',\n    age: null,\n    description: '',\n    doggo_id: ''\n  };\n\n  const _useForm = useForm(),\n        handleSubmit = _useForm.handleSubmit,\n        register = _useForm.register,\n        errors = _useForm.errors;\n\n  const _useState = useState(initialState),\n        _useState2 = _slicedToArray(_useState, 2),\n        doggo = _useState2[0],\n        setDoggo = _useState2[1];\n\n  const history = useHistory();\n\n  const handleInputChange = event => {\n    setDoggo(_objectSpread({}, doggo, {\n      [event.target.name]: event.target.value\n    }));\n  };\n\n  const editData = async () => {\n    await axios.patch(props.urlApi + doggo.id, doggo).then(response => {\n      console.log(response);\n      console.log(response.data);\n      alert('Id ' + doggo.id + ' is sucessfully edited');\n      history.push('/doggo-registration');\n    }).catch(error => {\n      console.log(error);\n      alert(error);\n    });\n  };\n\n  const onSubmit = event => {\n    console.log(event);\n    event.preventDefault();\n    editData();\n  };\n\n  return React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"reg-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: handleSubmit(onSubmit),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, \"Edit Doggo registration\"), React.createElement(\"div\", {\n    className: \"column\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"text\",\n    className: \"input\",\n    placeholder: \"Name\",\n    name: \"name\",\n    value: doggo.name,\n    onChange: handleInputChange,\n    ref: register({\n      required: 'Name is required',\n      pattern: {\n        message: 'Please input valid name'\n      }\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }), React.createElement(\"p\", {\n    className: \"has-text-danger\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, errors.name && errors.name.message)), React.createElement(\"div\", {\n    className: \"column\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"number\",\n    className: \"input\",\n    placeholder: \"Age\",\n    name: \"age\",\n    value: doggo.age,\n    onChange: handleInputChange,\n    ref: register({\n      required: 'Age is required',\n      min: 0,\n      max: 100,\n      pattern: {\n        message: 'Age must be within 0-100'\n      }\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }), React.createElement(\"p\", {\n    className: \"has-text-danger\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, errors.age && errors.age.message)), React.createElement(\"div\", {\n    className: \"column\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"text\",\n    className: \"input\",\n    placeholder: \"Description\",\n    name: \"description\",\n    value: doggo.description,\n    onChange: handleInputChange,\n    ref: register({\n      required: 'Description is required, up to 100 letters',\n      maxLength: 100,\n      pattern: {\n        message: 'Description is only up to 100 letters'\n      }\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }), React.createElement(\"p\", {\n    className: \"has-text-danger\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, errors.description && errors.description.message)), React.createElement(\"div\", {\n    className: \"column\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"text\",\n    className: \"input\",\n    placeholder: \"Doggo id\",\n    name: \"doggo_id\",\n    value: doggo.doggo_id,\n    onChange: handleInputChange,\n    ref: register({\n      required: 'Doggo ID is required',\n      pattern: {\n        value: /(J)(\\d{6})([a-d])/g,\n        message: 'Invalid id format, starts with capital letter J, followed by any 6 digits number, and ends with any lowercase letter from a to d'\n      }\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }), React.createElement(\"p\", {\n    className: \"has-text-danger\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  }, errors.doggo_id && errors.doggo_id.message)), React.createElement(\"button\", {\n    className: \"button is-primary\",\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133\n    },\n    __self: this\n  }, \"Submit\"), React.createElement(Link, {\n    to: \"/doggo-registration/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"button is-primary\",\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  }, \"Cancel\")))));\n};\n\nexport default DoggoEdit;","map":{"version":3,"sources":["/Users/firnazluztian/Documents/react/Oromico/myRepo/milestone1/dogfair_frontend/src/doggoComponents/DoggoEdit.js"],"names":["React","useState","Link","useHistory","useForm","axios","DoggoEdit","props","initialState","id","name","age","description","doggo_id","handleSubmit","register","errors","doggo","setDoggo","history","handleInputChange","event","target","value","editData","patch","urlApi","then","response","console","log","data","alert","push","catch","error","onSubmit","preventDefault","required","pattern","message","min","max","maxLength"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\nimport {Link, useHistory} from 'react-router-dom';\nimport {useForm} from 'react-hook-form';\nimport axios from 'axios';\n\n// incomplete\nconst DoggoEdit = props => {\n  const initialState = {\n    id: null,\n    name: '',\n    age: null,\n    description: '',\n    doggo_id: '',\n  };\n  const {handleSubmit, register, errors} = useForm ();\n  const [doggo, setDoggo] = useState (initialState);\n  const history = useHistory ();\n\n  const handleInputChange = event => {\n    setDoggo ({...doggo, [event.target.name]: event.target.value});\n  };\n\n  const editData = async () => {\n    await axios\n      .patch (props.urlApi + doggo.id, doggo)\n      .then (response => {\n        console.log (response);\n        console.log (response.data);\n        alert ('Id ' + doggo.id + ' is sucessfully edited');\n        history.push ('/doggo-registration');\n      })\n      .catch (error => {\n        console.log (error);\n        alert (error);\n      });\n  }\n\n  const onSubmit = event => {\n    console.log (event);\n    event.preventDefault ();\n    editData(); \n  };\n\n  return (\n    <div className=\"container\">\n      <div className=\"reg-container\">\n        <form onSubmit={handleSubmit (onSubmit)}>\n          <p>Edit Doggo registration</p>\n          <div className=\"column\">\n            <input\n              type=\"text\"\n              className=\"input\"\n              placeholder=\"Name\"\n              name=\"name\"\n              value={doggo.name}\n              onChange={handleInputChange}\n              ref={register ({\n                required: 'Name is required',\n                pattern: {\n                  message: 'Please input valid name',\n                },\n              })}\n            />\n            <p className=\"has-text-danger\">\n              {errors.name && errors.name.message}\n            </p>\n          </div>\n\n          <div className=\"column\">\n            <input\n              type=\"number\"\n              className=\"input\"\n              placeholder=\"Age\"\n              name=\"age\"\n              value={doggo.age}\n              onChange={handleInputChange}\n              ref={register ({\n                required: 'Age is required',\n                min: 0,\n                max: 100,\n                pattern: {\n                  message: 'Age must be within 0-100',\n                },\n              })}\n            />\n            <p className=\"has-text-danger\">\n              {errors.age && errors.age.message}\n            </p>\n          </div>\n\n          <div className=\"column\">\n            <input\n              type=\"text\"\n              className=\"input\"\n              placeholder=\"Description\"\n              name=\"description\"\n              value={doggo.description}\n              onChange={handleInputChange}\n              ref={register ({\n                required: 'Description is required, up to 100 letters',\n                maxLength: 100,\n                pattern: {\n                  message: 'Description is only up to 100 letters',\n                },\n              })}\n            />\n            <p className=\"has-text-danger\">\n              {errors.description && errors.description.message}\n            </p>\n          </div>\n\n          <div className=\"column\">\n            <input\n              type=\"text\"\n              className=\"input\"\n              placeholder=\"Doggo id\"\n              name=\"doggo_id\"\n              value={doggo.doggo_id}\n              onChange={handleInputChange}\n              ref={register ({\n                required: 'Doggo ID is required',\n                pattern: {\n                  value: /(J)(\\d{6})([a-d])/g,\n                  message: 'Invalid id format, starts with capital letter J, followed by any 6 digits number, and ends with any lowercase letter from a to d',\n                },\n              })}\n            />\n            <p className=\"has-text-danger\">\n              {errors.doggo_id && errors.doggo_id.message}\n            </p>\n          </div>\n\n          <button className=\"button is-primary\" type=\"submit\">Submit</button>\n          <Link to=\"/doggo-registration/\">\n            <button className=\"button is-primary\" type=\"submit\">Cancel</button>\n          </Link>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default DoggoEdit;\n"]},"metadata":{},"sourceType":"module"}